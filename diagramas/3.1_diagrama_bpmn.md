# 3.1 Diagrama BPMN - Flujo de Trabajo AgroTrack FUTAMAQ

## Diagrama BPMN del Proceso Principal de Gestión de Órdenes de Trabajo

```mermaid
graph TD
    A[Cliente solicita servicio] --> B{¿Tipo de servicio?}
    B -->|Preparación de suelo| C[Crear OT Preparación]
    B -->|Siembra| D[Crear OT Siembra]
    B -->|Fumigación| E[Crear OT Fumigación]
    B -->|Cosecha| F[Crear OT Cosecha]
    B -->|Mantenimiento| G[Crear OT Mantenimiento]
    
    C --> H[Asignar maquinaria disponible]
    D --> H
    E --> H
    F --> H
    G --> H
    
    H --> I[Asignar operador]
    I --> J[Programar fecha de inicio]
    J --> K[Notificar al operador]
    K --> L[Operador inicia trabajo]
    
    L --> M[Registrar horas trabajadas]
    M --> N[Registrar combustible consumido]
    N --> O[Registrar hectáreas trabajadas]
    O --> P[Tomar fotos del trabajo]
    P --> Q{¿Trabajo completado?}
    
    Q -->|No| R[Continuar trabajo]
    R --> M
    Q -->|Sí| S[Finalizar orden]
    S --> T[Generar reporte]
    T --> U[Facturar al cliente]
    U --> V[Actualizar estado de maquinaria]
    
    V --> W{¿Mantenimiento requerido?}
    W -->|Sí| X[Programar mantenimiento]
    W -->|No| Y[Maquinaria disponible]
    X --> Z[Ejecutar mantenimiento]
    Z --> AA[Actualizar historial]
    AA --> Y
```

## Diagrama BPMN del Proceso de Mantenimiento

```mermaid
graph TD
    A[Alerta de mantenimiento] --> B{¿Tipo de mantenimiento?}
    B -->|Preventivo| C[Programar mantenimiento preventivo]
    B -->|Correctivo| D[Diagnosticar problema]
    B -->|Emergencia| E[Asignar técnico urgente]
    
    C --> F[Verificar repuestos disponibles]
    D --> G[Identificar repuestos necesarios]
    E --> H[Movilizar técnico]
    
    F --> I{¿Repuestos disponibles?}
    G --> I
    H --> J[Realizar reparación de emergencia]
    
    I -->|Sí| K[Asignar técnico]
    I -->|No| L[Ordenar repuestos]
    L --> M[Esperar llegada de repuestos]
    M --> K
    
    K --> N[Ejecutar mantenimiento]
    J --> O[Documentar reparación]
    N --> P[Registrar repuestos utilizados]
    P --> Q[Actualizar horas de maquinaria]
    Q --> R[Calcular costo total]
    R --> S[Actualizar estado de maquinaria]
    S --> T[Generar reporte de mantenimiento]
    T --> U[Notificar finalización]
```

## Diagrama BPMN del Proceso de Gestión de Combustible

```mermaid
graph TD
    A[Operador solicita combustible] --> B{¿Fuente de combustible?}
    B -->|Bodega FUTAMAQ| C[Verificar stock disponible]
    B -->|Estación de servicio| D[Seleccionar estación]
    
    C --> E{¿Stock suficiente?}
    E -->|Sí| F[Despachar combustible]
    E -->|No| G[Ordenar combustible]
    G --> H[Esperar llegada]
    H --> F
    
    D --> I[Registrar compra]
    F --> J[Registrar entrega]
    I --> K[Actualizar inventario]
    J --> K
    K --> L[Calcular costo]
    L --> M[Asociar a orden de trabajo]
    M --> N[Actualizar reportes]
    N --> O[Notificar consumo]
```

## Diagrama BPMN del Proceso de Gestión de Repuestos

```mermaid
graph TD
    A[Necesidad de repuesto] --> B{¿Tipo de necesidad?}
    B -->|Mantenimiento programado| C[Verificar stock]
    B -->|Reparación urgente| D[Verificar stock crítico]
    B -->|Reposición de inventario| E[Revisar niveles mínimos]
    
    C --> F{¿Stock disponible?}
    D --> F
    E --> G[Generar orden de compra]
    
    F -->|Sí| H[Reservar repuesto]
    F -->|No| I[Ordenar repuesto urgente]
    I --> J[Esperar llegada]
    J --> H
    
    G --> K[Enviar a proveedor]
    K --> L[Recibir mercancía]
    L --> M[Verificar calidad]
    M --> N[Actualizar inventario]
    H --> O[Entregar a técnico]
    O --> P[Registrar uso]
    P --> Q[Actualizar stock]
    Q --> R[Verificar niveles mínimos]
    R --> S{¿Stock bajo?}
    S -->|Sí| T[Generar alerta de reposición]
    S -->|No| U[Proceso completado]
    T --> U
```



